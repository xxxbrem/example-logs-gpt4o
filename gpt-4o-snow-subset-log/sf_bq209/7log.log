2025-07-01 04:04:50 - Thread-49 (execute) - INFO - [Exploration]
```sql
-- Description: Count the total number of utility patents granted in 2010 using the "PUBLICATIONS" table.
SELECT COUNT(*) 
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U' -- Utility patents
  AND "grant_date" BETWEEN 20100101 AND 20101231; -- Restricting to patents granted in 2010.
```

```sql
-- Description: Get a sample of utility patents granted in 2010 with their family IDs and publication numbers, limited to 20 rows for inspection.
SELECT DISTINCT "publication_number", "family_id", "grant_date", "filing_date"
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U'
  AND "grant_date" BETWEEN 20100101 AND 20101231
LIMIT 20;
```

```sql
-- Description: From the "PUBLICATIONS" table, identify patents granted in 2010 that have forward citations within 10 years of their filing date.
SELECT DISTINCT p."publication_number", p."family_id", c.value::VARIANT:"application_number"::STRING AS "citing_application"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652; -- Forward citations within 10-year range.
```

```sql
-- Description: Count the distinct utility patents granted in 2010 that have exactly one forward citation within the 10-year range.
SELECT COUNT(*) 
FROM (
  SELECT p."publication_number", COUNT(DISTINCT c.value::VARIANT:"application_number"::STRING) AS citation_count
  FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
  LATERAL FLATTEN(input => p."citation") c
  WHERE p."application_kind" = 'U'
    AND p."grant_date" BETWEEN 20100101 AND 20101231
    AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
  GROUP BY p."publication_number"
) subquery
WHERE subquery.citation_count = 1;
```

```sql
-- Description: List utility patents from 2010 that have exactly one forward citation (10-year range), along with their publication and citing details.
SELECT DISTINCT p."publication_number", p."family_id", c.value::VARIANT:"application_number"::STRING AS "citing_application"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
GROUP BY p."publication_number", p."family_id", "citing_application"
HAVING COUNT(c.value::VARIANT:"application_number"::STRING) = 1
LIMIT 20;
```

```sql
-- Description: Check nested citation details to understand the data structure and verify forward citation data.
SELECT c.*
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
LIMIT 20;
```

```sql
-- Description: Inspect patents that don’t have any citations to validate data completeness.
SELECT DISTINCT "publication_number", "grant_date", "citation"
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U'
  AND "grant_date" BETWEEN 20100101 AND 20101231
  AND ("citation" IS NULL OR "citation" = '[]')
LIMIT 20;
```

```sql
-- Description: List patents, their filing dates, and forward citation count to confirm data consistency.
SELECT p."publication_number", p."filing_date", COUNT(DISTINCT c.value::VARIANT:"application_number"::STRING) AS "citation_count"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
GROUP BY p."publication_number", p."filing_date"
LIMIT 20;
```

```sql
-- Description: Sample details of publication numbers and the application numbers of forward citations for patents granted in 2010.
SELECT DISTINCT p."publication_number", c.value::VARIANT:"application_number"::STRING AS "forward_citation"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
LIMIT 20;
```

```sql
-- Description: Examine patents granted in 2010 and their corresponding forward citations' application date ranges to validate the 10-year condition.
SELECT p."publication_number", p."filing_date", c.value::VARIANT:"application_number"::STRING AS "citing_application", 
       c.value::VARIANT:"filing_date"::NUMBER AS "citation_date"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
LIMIT 20;
```
[Exploration]
2025-07-01 04:04:50 - Thread-49 (execute) - INFO - [Try to execute]
-- Description: Count the total number of utility patents granted in 2010 using the "PUBLICATIONS" table.
SELECT COUNT(*) 
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U' -- Utility patents
  AND "grant_date" BETWEEN 20100101 AND 20101231; -- Restricting to patents granted in 2010.
[Try to execute]
2025-07-01 04:04:52 - Thread-49 (execute) - INFO - [Successfully executed]
Successfully executed. SQL:
-- Description: Count the total number of utility patents granted in 2010 using the "PUBLICATIONS" table.
SELECT COUNT(*) 
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U' -- Utility patents
  AND "grant_date" BETWEEN 20100101 AND 20101231; -- Restricting to patents granted in 2010.
Results:
COUNT(*)
366

[Successfully executed]
2025-07-01 04:04:52 - Thread-49 (execute) - INFO - [Try to execute]
-- Description: Get a sample of utility patents granted in 2010 with their family IDs and publication numbers, limited to 20 rows for inspection.
SELECT DISTINCT "publication_number", "family_id", "grant_date", "filing_date"
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U'
  AND "grant_date" BETWEEN 20100101 AND 20101231
LIMIT 20;
[Try to execute]
2025-07-01 04:04:53 - Thread-49 (execute) - INFO - [Successfully executed]
Successfully executed. SQL:
-- Description: Get a sample of utility patents granted in 2010 with their family IDs and publication numbers, limited to 20 rows for inspection.
SELECT DISTINCT "publication_number", "family_id", "grant_date", "filing_date"
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U'
  AND "grant_date" BETWEEN 20100101 AND 20101231
LIMIT 20;
Results:
publication_number,family_id,grant_date,filing_date
JP-3161750-U,39875888,20100812,20080417
CN-201377166-Y,41517270,20100106,20090120
CN-201427255-Y,42030981,20100324,20090701
JP-3161402-U,54864329,20100729,20100518
CN-201586942-U,42746711,20100922,20091229
CN-201602143-U,42946846,20101013,20091216
CN-201435300-Y,42054115,20100331,20090512
CN-201407348-Y,41678283,20100217,20090410
CN-201379251-Y,41522726,20100113,20090416
CN-201650306-U,43115540,20101124,20100430
CN-201382358-Y,415258

[Successfully executed]
2025-07-01 04:04:53 - Thread-49 (execute) - INFO - [Try to execute]
-- Description: From the "PUBLICATIONS" table, identify patents granted in 2010 that have forward citations within 10 years of their filing date.
SELECT DISTINCT p."publication_number", p."family_id", c.value::VARIANT:"application_number"::STRING AS "citing_application"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652; -- Forward citations within 10-year range.
[Try to execute]
2025-07-01 04:04:54 - Thread-49 (execute) - INFO - [Successfully executed]
Successfully executed. SQL:
-- Description: From the "PUBLICATIONS" table, identify patents granted in 2010 that have forward citations within 10 years of their filing date.
SELECT DISTINCT p."publication_number", p."family_id", c.value::VARIANT:"application_number"::STRING AS "citing_application"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652; -- Forward citations within 10-year range.
Results:
publication_number,family_id,citing_application
KR-200448560-Y1,41334329,
KR-200450565-Y1,44479234,
KR-200448024-Y1,44211440,
KR-200447331-Y1,44210432,
KR-200447352-Y1,44210617,
KR-200449850-Y1,44194445,
KR-200448394-Y1,41531943,
KR-200448620-Y1,44237731,
KR-200448207-Y1,41531996,
KR-200450308-Y1,44449590,
KR-200450939-Y1,44478264,
KR-200450262-Y1,41536225,
KR-200447349-Y1,44210615,
KR-200447955-Y1,44211414,
KR-200451377-Y1,44451603,

[Successfully executed]
2025-07-01 04:04:54 - Thread-49 (execute) - INFO - [Try to execute]
-- Description: Count the distinct utility patents granted in 2010 that have exactly one forward citation within the 10-year range.
SELECT COUNT(*) 
FROM (
  SELECT p."publication_number", COUNT(DISTINCT c.value::VARIANT:"application_number"::STRING) AS citation_count
  FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
  LATERAL FLATTEN(input => p."citation") c
  WHERE p."application_kind" = 'U'
    AND p."grant_date" BETWEEN 20100101 AND 20101231
    AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
  GROUP BY p."publication_number"
) subquery
WHERE subquery.citation_count = 1;
[Try to execute]
2025-07-01 04:04:56 - Thread-49 (execute) - INFO - [Successfully executed]
Successfully executed. SQL:
-- Description: Count the distinct utility patents granted in 2010 that have exactly one forward citation within the 10-year range.
SELECT COUNT(*) 
FROM (
  SELECT p."publication_number", COUNT(DISTINCT c.value::VARIANT:"application_number"::STRING) AS citation_count
  FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
  LATERAL FLATTEN(input => p."citation") c
  WHERE p."application_kind" = 'U'
    AND p."grant_date" BETWEEN 20100101 AND 20101231
    AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
  GROUP BY p."publication_number"
) subquery
WHERE subquery.citation_count = 1;
Results:
COUNT(*)
21

[Successfully executed]
2025-07-01 04:04:56 - Thread-49 (execute) - INFO - [Try to execute]
-- Description: List utility patents from 2010 that have exactly one forward citation (10-year range), along with their publication and citing details.
SELECT DISTINCT p."publication_number", p."family_id", c.value::VARIANT:"application_number"::STRING AS "citing_application"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
GROUP BY p."publication_number", p."family_id", "citing_application"
HAVING COUNT(c.value::VARIANT:"application_number"::STRING) = 1
LIMIT 20;
[Try to execute]
2025-07-01 04:04:57 - Thread-49 (execute) - INFO - [Successfully executed]
Successfully executed. SQL:
-- Description: List utility patents from 2010 that have exactly one forward citation (10-year range), along with their publication and citing details.
SELECT DISTINCT p."publication_number", p."family_id", c.value::VARIANT:"application_number"::STRING AS "citing_application"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
GROUP BY p."publication_number", p."family_id", "citing_application"
HAVING COUNT(c.value::VARIANT:"application_number"::STRING) = 1
LIMIT 20;
Results:
publication_number,family_id,citing_application
KR-200447349-Y1,44210615,
KR-200448620-Y1,44237731,
KR-200450262-Y1,41536225,

[Successfully executed]
2025-07-01 04:04:57 - Thread-49 (execute) - INFO - [Try to execute]
-- Description: Check nested citation details to understand the data structure and verify forward citation data.
SELECT c.*
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
LIMIT 20;
[Try to execute]
2025-07-01 04:04:58 - Thread-49 (execute) - INFO - [Successfully executed]
Successfully executed. SQL:
-- Description: Check nested citation details to understand the data structure and verify forward citation data.
SELECT c.*
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
LIMIT 20;
Results:
SEQ,KEY,PATH,INDEX,VALUE,THIS
465,,[0],0,"{
  ""application_number"": """",
  ""category"": ""APP,SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""JP-S53101551-U"",
  ""type"": """"
}","[
  {
    ""application_number"": """",
    ""category"": ""APP,SEA"",
    ""filing_date"": 0,
    ""npl_text"": """",
    ""publication_number"": ""JP-S53101551-U"",
    ""type"": """"
  },
  {
    ""application_number"": """",
    ""category"": ""EXA"",
    ""filing_date"": 0,
   

[Successfully executed]
2025-07-01 04:04:58 - Thread-49 (execute) - INFO - [Try to execute]
-- Description: Inspect patents that don’t have any citations to validate data completeness.
SELECT DISTINCT "publication_number", "grant_date", "citation"
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U'
  AND "grant_date" BETWEEN 20100101 AND 20101231
  AND ("citation" IS NULL OR "citation" = '[]')
LIMIT 20;
[Try to execute]
2025-07-01 04:05:00 - Thread-49 (execute) - INFO - [Successfully executed]
Successfully executed. SQL:
-- Description: Inspect patents that don’t have any citations to validate data completeness.
SELECT DISTINCT "publication_number", "grant_date", "citation"
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U'
  AND "grant_date" BETWEEN 20100101 AND 20101231
  AND ("citation" IS NULL OR "citation" = '[]')
LIMIT 20;
Results:
publication_number,grant_date,citation
CN-201415318-Y,20100303,[]
FI-8735-U1,20100525,[]
RU-97824-U1,20100920,[]
RU-99866-U1,20101127,[]
CN-201377166-Y,20100106,[]
CN-201552078-U,20100818,[]
CN-201431243-Y,20100331,[]
RU-97544-U1,20100910,[]
CN-201411415-Y,20100224,[]
RU-91410-U1,20100210,[]
CN-201409286-Y,20100224,[]
CN-201467464-U,20100512,[]
CN-201410503-Y,20100224,[]
CN-201586942-U,20100922,[]
CN-201620562-U,20101103,[]
CN-201394229-Y,20100203,[]

[Successfully executed]
2025-07-01 04:05:00 - Thread-49 (execute) - INFO - [Try to execute]
-- Description: List patents, their filing dates, and forward citation count to confirm data consistency.
SELECT p."publication_number", p."filing_date", COUNT(DISTINCT c.value::VARIANT:"application_number"::STRING) AS "citation_count"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
GROUP BY p."publication_number", p."filing_date"
LIMIT 20;
[Try to execute]
2025-07-01 04:05:01 - Thread-49 (execute) - INFO - [Successfully executed]
Successfully executed. SQL:
-- Description: List patents, their filing dates, and forward citation count to confirm data consistency.
SELECT p."publication_number", p."filing_date", COUNT(DISTINCT c.value::VARIANT:"application_number"::STRING) AS "citation_count"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
GROUP BY p."publication_number", p."filing_date"
LIMIT 20;
Results:
publication_number,filing_date,citation_count
KR-200449850-Y1,20080707,1
KR-200448394-Y1,20090825,1
KR-200447331-Y1,20080909,1
KR-200450308-Y1,20090220,1
KR-200449119-Y1,20080312,1
KR-200449130-Y1,20080714,1
KR-200448620-Y1,20091120,1
KR-200448308-Y1,20090831,1
KR-200448560-Y1,20080109,1
KR-200451230-Y1,20090806,1
KR-200450565-Y1,20100526,1
KR-200448634-Y1,20080204,1
KR-200450939-Y1,20090629,1
KR-200448207-Y1,20080311,1
KR-200447783-Y1,20080813,1
KR-200447955-Y1,20090831,1

[Successfully executed]
2025-07-01 04:05:01 - Thread-49 (execute) - INFO - [Try to execute]
-- Description: Sample details of publication numbers and the application numbers of forward citations for patents granted in 2010.
SELECT DISTINCT p."publication_number", c.value::VARIANT:"application_number"::STRING AS "forward_citation"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
LIMIT 20;
[Try to execute]
2025-07-01 04:05:03 - Thread-49 (execute) - INFO - [Successfully executed]
Successfully executed. SQL:
-- Description: Sample details of publication numbers and the application numbers of forward citations for patents granted in 2010.
SELECT DISTINCT p."publication_number", c.value::VARIANT:"application_number"::STRING AS "forward_citation"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
LIMIT 20;
Results:
publication_number,forward_citation
KR-200448024-Y1,
KR-200450939-Y1,
KR-200448560-Y1,
KR-200449850-Y1,
KR-200448634-Y1,
KR-200447352-Y1,
KR-200447955-Y1,
KR-200451377-Y1,
KR-200447349-Y1,
KR-200449119-Y1,
KR-200450308-Y1,
KR-200450565-Y1,
KR-200448620-Y1,
KR-200447331-Y1,
KR-200448394-Y1,
KR-200449130-Y1,
KR-200447783-Y1,
KR-200451230-Y1,
KR-200448308-Y1,
KR-200450262-Y1,

[Successfully executed]
2025-07-01 04:05:03 - Thread-49 (execute) - INFO - [Try to execute]
-- Description: Examine patents granted in 2010 and their corresponding forward citations' application date ranges to validate the 10-year condition.
SELECT p."publication_number", p."filing_date", c.value::VARIANT:"application_number"::STRING AS "citing_application", 
       c.value::VARIANT:"filing_date"::NUMBER AS "citation_date"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
LIMIT 20;
[Try to execute]
2025-07-01 04:05:07 - Thread-49 (execute) - INFO - [Successfully executed]
Successfully executed. SQL:
-- Description: Examine patents granted in 2010 and their corresponding forward citations' application date ranges to validate the 10-year condition.
SELECT p."publication_number", p."filing_date", c.value::VARIANT:"application_number"::STRING AS "citing_application", 
       c.value::VARIANT:"filing_date"::NUMBER AS "citation_date"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
LIMIT 20;
Results:
publication_number,filing_date,citing_application,citation_date
KR-200450308-Y1,20090220,,0
KR-200450308-Y1,20090220,,0
KR-200450308-Y1,20090220,,0
KR-200447352-Y1,20090515,,0
KR-200447352-Y1,20090515,,0
KR-200447352-Y1,20090515,,0
KR-200447955-Y1,20090831,,0
KR-200447955-Y1,20090831,,0
KR-200447955-Y1,20090831,,0
KR-200447955-Y1,20090831,,0
KR-200451377-Y1,20081209,,0
KR-200451377-Y1,20081209,,0
KR-200451377-Y1,20081209,,0
KR-200449119-Y1,20080312,,0

[Successfully executed]
2025-07-01 04:05:07 - Thread-49 (execute) - INFO - itercount: 0
2025-07-01 04:05:07 - Thread-49 (execute) - INFO - [Self-refine]
Table full name: PATENTS.PATENTS.DISCLOSURES_13
Column name: serial_cleaned Type: TEXT
Column name: sso Type: TEXT
Column name: patent_owner_harmonized Type: TEXT
Column name: family_id Type: TEXT
Column name: standard Type: TEXT
Column name: licensing_commitment Type: TEXT
Sample rows:
[{'family_id': '22549751', 'sso': 'ANSI', 'patent_owner_harmonized': '3M', 'standard': 'X3.55;X3.56', 'licensing_commitment': 'FRAND', 'serial_cleaned': ''}, {'family_id': '23170520', 'sso': 'ANSI', 'patent_owner_harmonized': '3M', 'standard': 'X3.55;X3.56', 'licensing_commitment': 'FRAND', 'serial_cleaned': ''}, {'family_id': '23170520', 'sso': 'ANSI', 'patent_owner_harmonized': '3M', 'standard': 'X3.55;X3.56;X3.72;X3.116;X3.127;X3.136', 'licensing_commitment': 'Specific Terms', 'serial_cleaned': ''}, {'family_id': '22549751', 'sso': 'ANSI', 'patent_owner_harmonized': '3M', 'standard': '', 'licensing_commitment': 'FRAND', 'serial_cleaned': ''}, {'family_id': '23418274', 'sso': 'ANSI', 'patent_owner_harmonized': 'Agilent Technologies', 'standard': '1588', 'licensing_commitment': 'FRAND', 'serial_cleaned': ''}]
--------------------------------------------------
Table full name: PATENTS.PATENTS.PUBLICATIONS
Column name: application_number Type: TEXT Description: Patent application number (DOCDB compatible), eg: 'US-87124404-A'. This may not always be set.
Column name: grant_date Type: NUMBER Description: For US publications only, the claims in plain text
Column name: cpc Type: VARIANT Description: Two-letter language code for this text
Column name: publication_date Type: NUMBER Description: Two-letter language code for this text
Column name: kind_code Type: TEXT Description: Kind code, indicating application, grant, search report, correction, etc. These are different for each country.
Column name: ipc Type: VARIANT Description: Localized text
Column name: filing_date Type: NUMBER Description: Is this text truncated?
Column name: abstract_localized Type: VARIANT Description: Localized text
Column name: assignee Type: VARIANT Description: Localized text
Column name: citation Type: VARIANT Description: Two-letter language code for this text
Column name: fi Type: VARIANT Description: Is this text truncated?
Column name: priority_date Type: NUMBER Description: Localized text
Column name: application_kind Type: TEXT Description: High-level kind of the application: A=patent; U=utility; P=provision; W= PCT; F=design; T=translation.
Column name: priority_claim Type: VARIANT Description: Two-letter language code for this text
Column name: assignee_harmonized Type: VARIANT Description: Two-letter language code for this text
Column name: family_id Type: TEXT Description: Family ID (simple family). Grouping on family ID will return all publications associated with a simple patent family (all publications share the same priority claims).
Column name: publication_number Type: TEXT Description: Patent publication number (DOCDB compatible), eg: 'US-7650331-B1'
Column name: country_code Type: TEXT Description: Country code, eg: 'US', 'EP', etc
Column name: parent Type: VARIANT Description: Is this text truncated?
Sample rows:
[{'publication_number': 'DE-69611147-T2', 'application_number': 'DE-69611147-T', 'country_code': 'DE', 'kind_code': 'T2', 'application_kind': 'T', 'family_id': '9483724', 'abstract_localized': '[]', 'publication_date': 20010621, 'filing_date': 19961015, 'grant_date': 20010621, 'priority_date': 19951018, 'priority_claim': '[\n  {\n    "application_number": "FR-9512326-A",\n    "category": "",\n    "filing_date": 19951018,\n    "npl_text": "",\n    "publication_number": "",\n    "type": ""\n  }\n]', 'assignee_harmonized': '[\n  {\n    "country_code": "FR",\n    "name": "VALEO SECURITE HABITACLE"\n  }\n]', 'ipc': '[\n  {\n    "code": "E05B17/04",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "E05B17/00",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  }\n]', 'cpc': '[\n  {\n    "code": "E05B77/00",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "E05B17/0058",\n    "first": true,\n    "inventive": true,\n    "tree": []\n  }\n]', 'citation': '[]', 'parent': '[]'}, {'publication_number': 'DE-69630331-T2', 'application_number': 'DE-69630331-T', 'country_code': 'DE', 'kind_code': 'T2', 'application_kind': 'T', 'family_id': '23689246', 'abstract_localized': '[]', 'publication_date': 20040729, 'filing_date': 19960416, 'grant_date': 20040729, 'priority_date': 19950421, 'priority_claim': '[\n  {\n    "application_number": "US-42609095-A",\n    "category": "",\n    "filing_date": 19950421,\n    "npl_text": "",\n    "publication_number": "",\n    "type": ""\n  }\n]', 'assignee_harmonized': '[\n  {\n    "country_code": "CA",\n    "name": "CERTICOM CORP"\n  }\n]', 'ipc': '[\n  {\n    "code": "H04L9/08",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "G06F7/72",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  }\n]', 'cpc': '[\n  {\n    "code": "G06F7/725",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "H04L9/0844",\n    "first": true,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "H04L9/0838",\n    "first": true,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "H04L9/0844",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "G06F7/725",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  }\n]', 'citation': '[]', 'parent': '[]'}, {'publication_number': 'DE-69636755-T2', 'application_number': 'DE-69636755-T', 'country_code': 'DE', 'kind_code': 'T2', 'application_kind': 'T', 'family_id': '8224764', 'abstract_localized': '[\n  {\n    "language": "en",\n    "text": "Immortalised human corneal epithelial cell line, comprises cells of the cell line which are capable of stratification and expressing metabolic markers specific for nonimmortalised human epithelial cells, differentiation markers specific for nonimmortalised human corneal epithelial cells and markers specific for an inflammatory reaction.",\n    "truncated": false\n  }\n]', 'publication_date': 20071011, 'filing_date': 19961224, 'grant_date': 20071011, 'priority_date': 19961224, 'priority_claim': '[\n  {\n    "application_number": "EP-96203707-A",\n    "category": "",\n    "filing_date": 19961224,\n    "npl_text": "",\n    "publication_number": "",\n    "type": ""\n  }\n]', 'assignee_harmonized': '[\n  {\n    "country_code": "CH",\n    "name": "NESTLE SA"\n  }\n]', 'ipc': '[\n  {\n    "code": "C12N5/10",\n    "first": true,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "G01N33/50",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "C12R1/91",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "C12N15/09",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "C12N5/00",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "A61K35/44",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "G01N33/48",\n    "first": true,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "C12Q1/68",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "C12N5/071",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  }\n]', 'cpc': '[\n  {\n    "code": "C12N2503/02",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "C12N5/0621",\n    "first": true,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "C12N2503/02",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "C12N2510/04",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "C12N5/0621",\n    "first": true,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "C12N2510/04",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  }\n]', 'citation': '[]', 'parent': '[]'}, {'publication_number': 'DE-69728658-T2', 'application_number': 'DE-69728658-T', 'country_code': 'DE', 'kind_code': 'T2', 'application_kind': 'T', 'family_id': '24437397', 'abstract_localized': '[\n  {\n    "language": "en",\n    "text": "A lithographic laser imageable thin film structure comprising a substrate having first and second surfaces. A vacuum-deposited metal layer is carried by the first surface of the substrate. A layer of semiconductor material is adhered to and overlies the metal layer. The metal layer and the semiconductor material have thicknesses which are selected to maximize absorption of laser energy impinging on the same.",\n    "truncated": false\n  }\n]', 'publication_date': 20040812, 'filing_date': 19970115, 'grant_date': 20040812, 'priority_date': 19960229, 'priority_claim': '[\n  {\n    "application_number": "US-9700408-W",\n    "category": "",\n    "filing_date": 19970115,\n    "npl_text": "",\n    "publication_number": "",\n    "type": ""\n  },\n  {\n    "application_number": "US-60864696-A",\n    "category": "",\n    "filing_date": 19960229,\n    "npl_text": "",\n    "publication_number": "",\n    "type": ""\n  }\n]', 'assignee_harmonized': '[\n  {\n    "country_code": "US",\n    "name": "PRESSTEK INC"\n  }\n]', 'ipc': '[\n  {\n    "code": "B32B15/04",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "B41C1/10",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "B41N1/00",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "B41N1/14",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "B32B27/20",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "B32B7/02",\n    "first": true,\n    "inventive": true,\n    "tree": []\n  }\n]', 'cpc': '[\n  {\n    "code": "B32B15/04",\n    "first": true,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/12674",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "B32B27/20",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/31678",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/12458",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/31678",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/12458",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "B32B15/20",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/31504",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "B41N1/00",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "B32B15/09",\n    "first": true,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "B32B2367/00",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "B32B27/20",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/12493",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "B32B15/043",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "B32B27/36",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "B32B27/08",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "B32B15/04",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/12493",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/12674",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "B41C1/1033",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "B41N1/00",\n    "first": false,\n    "inventive": true,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/12528",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/31504",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "B41C1/1033",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "B32B2311/24",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  },\n  {\n    "code": "Y10T428/12528",\n    "first": false,\n    "inventive": false,\n    "tree": []\n  }\n]', 'citation': '[]', 'parent': '[]'}, {'publication_number': 'DE-69807539-T2', 'application_number': 'DE-69807539-T', 'country_code': 'DE', 'kind_code': 'T2', 'application_kind': 'T', 'family_id': '11877005', 'abstract_localized': '[]', 'publication_date': 20030116, 'filing_date': 19980120, 'grant_date': 20030116, 'priority_date': 19970129, 'priority_claim': '[\n  {\n    "application_number": "JP-1501397-A",\n    "category": "",\n    "filing_da
--------------------------------------------------
Table full name: PATENTS.PATENTS.CPC_DEFINITION
Column name: status Type: TEXT
Column name: titleFull Type: TEXT
Column name: symbol Type: TEXT
Column name: children Type: VARIANT
Column name: parents Type: VARIANT
Column name: ipcConcordant Type: TEXT
Sample rows:
[{'children': '[]', 'ipcConcordant': 'CPCONLY', 'parents': '[\n  "A01K2227/10",\n  "A01K2227/00",\n  "A01K",\n  "A01",\n  "A"\n]', 'status': 'published', 'symbol': 'A01K2227/108', 'titleFull': 'Swine'}, {'children': '[]', 'ipcConcordant': 'CPCONLY', 'parents': '[\n  "A01K2227/10",\n  "A01K2227/00",\n  "A01K",\n  "A01",\n  "A"\n]', 'status': 'published', 'symbol': 'A01K2227/105', 'titleFull': 'Murine'}, {'children': '[]', 'ipcConcordant': 'CPCONLY', 'parents': '[\n  "A01K2227/10",\n  "A01K2227/00",\n  "A01K",\n  "A01",\n  "A"\n]', 'status': 'published', 'symbol': 'A01K2227/107', 'titleFull': 'Rabbit'}, {'children': '[]', 'ipcConcordant': 'CPCONLY', 'parents': '[\n  "A01K2267/02",\n  "A01K2267/00",\n  "A01K",\n  "A01",\n  "A"\n]', 'status': 'published', 'symbol': 'A01K2267/025', 'titleFull': 'Animal producing cells or organs for transplantation'}, {'children': '[\n  "A01K2267/0312",\n  "A01K2267/0318",\n  "A01K2267/0325"\n]', 'ipcConcordant': 'CPCONLY', 'parents': '[\n  "A01K2267/03",\n  "A01K2267/00",\n  "A01K",\n  "A01",\n  "A"\n]', 'status': 'published', 'symbol': 'A01K2267/0306', 'titleFull': 'Animal model for genetic diseases'}]
--------------------------------------------------
External knowledge that might be helpful: 
None
The table structure information is ({database name: {schema name: [table name]}}): 
{'PATENTS': {'PATENTS': ['DISCLOSURES_13', 'PUBLICATIONS', 'CPC_DEFINITION']}}

Some few-shot examples after column exploration may be helpful:
Query:
-- Description: Count the total number of utility patents granted in 2010 using the "PUBLICATIONS" table.
SELECT COUNT(*) 
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U' -- Utility patents
  AND "grant_date" BETWEEN 20100101 AND 20101231; -- Restricting to patents granted in 2010.
Answer:
COUNT(*)
366
Query:
-- Description: Get a sample of utility patents granted in 2010 with their family IDs and publication numbers, limited to 20 rows for inspection.
SELECT DISTINCT "publication_number", "family_id", "grant_date", "filing_date"
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U'
  AND "grant_date" BETWEEN 20100101 AND 20101231
LIMIT 20;
Answer:
publication_number,family_id,grant_date,filing_date
JP-3161750-U,39875888,20100812,20080417
CN-201377166-Y,41517270,20100106,20090120
CN-201427255-Y,42030981,20100324,20090701
JP-3161402-U,54864329,20100729,20100518
CN-201586942-U,42746711,20100922,20091229
CN-201602143-U,42946846,20101013,20091216
CN-201435300-Y,42054115,20100331,20090512
CN-201407348-Y,41678283,20100217,20090410
CN-201379251-Y,41522726,20100113,20090416
CN-201650306-U,43115540,20101124,20100430
CN-201382358-Y,415258
Query:
-- Description: From the "PUBLICATIONS" table, identify patents granted in 2010 that have forward citations within 10 years of their filing date.
SELECT DISTINCT p."publication_number", p."family_id", c.value::VARIANT:"application_number"::STRING AS "citing_application"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652; -- Forward citations within 10-year range.
Answer:
publication_number,family_id,citing_application
KR-200448560-Y1,41334329,
KR-200450565-Y1,44479234,
KR-200448024-Y1,44211440,
KR-200447331-Y1,44210432,
KR-200447352-Y1,44210617,
KR-200449850-Y1,44194445,
KR-200448394-Y1,41531943,
KR-200448620-Y1,44237731,
KR-200448207-Y1,41531996,
KR-200450308-Y1,44449590,
KR-200450939-Y1,44478264,
KR-200450262-Y1,41536225,
KR-200447349-Y1,44210615,
KR-200447955-Y1,44211414,
KR-200451377-Y1,44451603,
Query:
-- Description: Count the distinct utility patents granted in 2010 that have exactly one forward citation within the 10-year range.
SELECT COUNT(*) 
FROM (
  SELECT p."publication_number", COUNT(DISTINCT c.value::VARIANT:"application_number"::STRING) AS citation_count
  FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
  LATERAL FLATTEN(input => p."citation") c
  WHERE p."application_kind" = 'U'
    AND p."grant_date" BETWEEN 20100101 AND 20101231
    AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
  GROUP BY p."publication_number"
) subquery
WHERE subquery.citation_count = 1;
Answer:
COUNT(*)
21
Query:
-- Description: List utility patents from 2010 that have exactly one forward citation (10-year range), along with their publication and citing details.
SELECT DISTINCT p."publication_number", p."family_id", c.value::VARIANT:"application_number"::STRING AS "citing_application"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
GROUP BY p."publication_number", p."family_id", "citing_application"
HAVING COUNT(c.value::VARIANT:"application_number"::STRING) = 1
LIMIT 20;
Answer:
publication_number,family_id,citing_application
KR-200447349-Y1,44210615,
KR-200448620-Y1,44237731,
KR-200450262-Y1,41536225,
Query:
-- Description: Check nested citation details to understand the data structure and verify forward citation data.
SELECT c.*
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
LIMIT 20;
Answer:
SEQ,KEY,PATH,INDEX,VALUE,THIS
465,,[0],0,"{
  ""application_number"": """",
  ""category"": ""APP,SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""JP-S53101551-U"",
  ""type"": """"
}","[
  {
    ""application_number"": """",
    ""category"": ""APP,SEA"",
    ""filing_date"": 0,
    ""npl_text"": """",
    ""publication_number"": ""JP-S53101551-U"",
    ""type"": """"
  },
  {
    ""application_number"": """",
    ""category"": ""EXA"",
    ""filing_date"": 0,
   
Query:
-- Description: Inspect patents that don’t have any citations to validate data completeness.
SELECT DISTINCT "publication_number", "grant_date", "citation"
FROM "PATENTS"."PATENTS"."PUBLICATIONS"
WHERE "application_kind" = 'U'
  AND "grant_date" BETWEEN 20100101 AND 20101231
  AND ("citation" IS NULL OR "citation" = '[]')
LIMIT 20;
Answer:
publication_number,grant_date,citation
CN-201415318-Y,20100303,[]
FI-8735-U1,20100525,[]
RU-97824-U1,20100920,[]
RU-99866-U1,20101127,[]
CN-201377166-Y,20100106,[]
CN-201552078-U,20100818,[]
CN-201431243-Y,20100331,[]
RU-97544-U1,20100910,[]
CN-201411415-Y,20100224,[]
RU-91410-U1,20100210,[]
CN-201409286-Y,20100224,[]
CN-201467464-U,20100512,[]
CN-201410503-Y,20100224,[]
CN-201586942-U,20100922,[]
CN-201620562-U,20101103,[]
CN-201394229-Y,20100203,[]
Query:
-- Description: List patents, their filing dates, and forward citation count to confirm data consistency.
SELECT p."publication_number", p."filing_date", COUNT(DISTINCT c.value::VARIANT:"application_number"::STRING) AS "citation_count"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
GROUP BY p."publication_number", p."filing_date"
LIMIT 20;
Answer:
publication_number,filing_date,citation_count
KR-200449850-Y1,20080707,1
KR-200448394-Y1,20090825,1
KR-200447331-Y1,20080909,1
KR-200450308-Y1,20090220,1
KR-200449119-Y1,20080312,1
KR-200449130-Y1,20080714,1
KR-200448620-Y1,20091120,1
KR-200448308-Y1,20090831,1
KR-200448560-Y1,20080109,1
KR-200451230-Y1,20090806,1
KR-200450565-Y1,20100526,1
KR-200448634-Y1,20080204,1
KR-200450939-Y1,20090629,1
KR-200448207-Y1,20080311,1
KR-200447783-Y1,20080813,1
KR-200447955-Y1,20090831,1
Query:
-- Description: Sample details of publication numbers and the application numbers of forward citations for patents granted in 2010.
SELECT DISTINCT p."publication_number", c.value::VARIANT:"application_number"::STRING AS "forward_citation"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
LIMIT 20;
Answer:
publication_number,forward_citation
KR-200448024-Y1,
KR-200450939-Y1,
KR-200448560-Y1,
KR-200449850-Y1,
KR-200448634-Y1,
KR-200447352-Y1,
KR-200447955-Y1,
KR-200451377-Y1,
KR-200447349-Y1,
KR-200449119-Y1,
KR-200450308-Y1,
KR-200450565-Y1,
KR-200448620-Y1,
KR-200447331-Y1,
KR-200448394-Y1,
KR-200449130-Y1,
KR-200447783-Y1,
KR-200451230-Y1,
KR-200448308-Y1,
KR-200450262-Y1,
Query:
-- Description: Examine patents granted in 2010 and their corresponding forward citations' application date ranges to validate the 10-year condition.
SELECT p."publication_number", p."filing_date", c.value::VARIANT:"application_number"::STRING AS "citing_application", 
       c.value::VARIANT:"filing_date"::NUMBER AS "citation_date"
FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
LATERAL FLATTEN(input => p."citation") c
WHERE p."application_kind" = 'U'
  AND p."grant_date" BETWEEN 20100101 AND 20101231
  AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652
LIMIT 20;
Answer:
publication_number,filing_date,citing_application,citation_date
KR-200450308-Y1,20090220,,0
KR-200450308-Y1,20090220,,0
KR-200450308-Y1,20090220,,0
KR-200447352-Y1,20090515,,0
KR-200447352-Y1,20090515,,0
KR-200447352-Y1,20090515,,0
KR-200447955-Y1,20090831,,0
KR-200447955-Y1,20090831,,0
KR-200447955-Y1,20090831,,0
KR-200447955-Y1,20090831,,0
KR-200451377-Y1,20081209,,0
KR-200451377-Y1,20081209,,0
KR-200451377-Y1,20081209,,0
KR-200449119-Y1,20080312,,0
Task: Can you calculate the number of utility patents that were granted in 2010 and have exactly one forward citation within a 10-year window following their application/filing date? For this analysis, forward citations should be counted as distinct citing application numbers that cited the patent within 10 years after the patent's own filing date.
Another way to say it: Can you find how many utility patents granted in 2010 have exactly one forward citation within the ten years following their application date?

Please think step by step and answer only one complete SQL in snowflake dialect in ```sql``` format.
SQL usage example: ```sql
SELECT "COLUMN_NAME" FROM DATABASE.SCHEMA.TABLE WHERE ... ``` (Adjust "DATABASE", "SCHEMA", and "TABLE" to match actual names, ensure all column names are enclosed in double quotations)
Here are some useful tips for answering:
When performing a UNION operation on many tables, ensure that all table names are explicitly listed. Union first and then add condition and selection. e.g. SELECT "col1", "col2" FROM (TABLE1 UNION ALL TABLE2) WHERE ...; Don't write sqls as (SELECT col1, col2 FROM TABLE1 WHERE ...) UNION ALL (SELECT col1, col2 FROM TABLE2 WHERE ...); Don't use ['-- Include all', '-- Omit', '-- Continue', '-- Union all', '-- ...', '-- List all', '-- Replace this', '-- Each table', '-- Add other'] to omit any table. Table names here: The table structure information is ({database name: {schema name: [table name]}}): 
{'PATENTS': {'PATENTS': ['DISCLOSURES_13', 'PUBLICATIONS', 'CPC_DEFINITION']}}

When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.
When asked something without stating name or id, return both of them. e.g. Which products ...? The answer should include product_name and product_id.
When asked percentage decrease, you should return a positive value. e.g. How many percentage points in 2021 decrease compared to ...? The answer should be a positive value indicating the decresed number. Try to use ABS().
If asked two tables, you should reply with the last one instead of combining two tables. e.g. Identifying the top five states ... examine the state that ranks fourth overall and identify its top five counties. You should only answer top five counties.
Use ST_DISTANCE to calculate distance between two geographic points for more accurate answer.
If the task description does not specify the number of decimal places, retain all decimals to four places.

[Self-refine]
2025-07-01 04:05:13 - Thread-49 (execute) - INFO - [Try to run SQL in self-refine]
```sql
SELECT COUNT(*)
FROM (
  SELECT 
    p."publication_number", 
    COUNT(DISTINCT c.value::VARIANT:"application_number"::STRING) AS forward_citation_count
  FROM "PATENTS"."PATENTS"."PUBLICATIONS" p, 
       LATERAL FLATTEN(input => p."citation") c
  WHERE p."application_kind" = 'U' -- Only utility patents
    AND p."grant_date" BETWEEN 20100101 AND 20101231 -- Patents granted in 2010
    AND c.value::VARIANT:"filing_date"::NUMBER <= p."filing_date" + 3652 -- Forward citations within 10 years of the patent filing date
  GROUP BY p."publication_number"
) subquery
WHERE subquery.forward_citation_count = 1; -- Exactly one forward citation within 10 years
```
[Try to run SQL in self-refine]
2025-07-01 04:05:19 - Thread-49 (execute) - INFO - Total iteration counts: 0
